\environment envCmdPaper
\environment envMacrosPaper
\environment envCfgThesisModes
\environment envCfgThesisCommands

\startenvironment envThesisShowImperfection

%
\def\showImperfection{\dosingleempty\doShowImperfection}
\def\doShowImperfection[#1]%
{%
	\iffirstargument
		\doifmode{#1}{\page \placeAll}
	\else
		\doifmode{unfinished}{\page \placeUnfinished}
	\fi
}\subject

%
\define[]\placeUnfinished%
{%
\section{Keywords}%
\placeRegKeyword%
%
\section{Abbreviations}%
\placelistofRegAbbreviations%
%
\section{Translations}%
\placeTranslationsLocal%
%
\section{Still to Translate}%
\placeUndefinedTranslationsLocal%
%
\section{Text Marks}%
\placeTextMarksLocal%
%
\section{Remarks}%
\placeRemarksLocal%
%
\section{Reminders}%
\placeRemindersLocal%
%
\section{References Missing}%
\placeMissingReferencesLocal%
%
\section{Used References}%
\placeQuotesLocal%
%
\placeReferences%
}

%
\define[]\placeAll%
{%
\section{Keywords}%
\placeRegKeyword%
%
\section{Abbreviations}%
\placelistofRegAbbreviations%
%
\section{Translations}%
\placeTranslationsAll%
%
\section{Still to Translate}%
\placeUndefinedTranslationsAll%
%
\section{Text Marks}%
\placeTextMarksAll%
%
\section{Remarks}%
\placeRemarksAll%
%
\section{Reminders}%
\placeRemindersAll%
%
\section{References Missing}%
\placeMissingReferencesAll%
%
\section{Used References}%
\placeQuotesAll%
%
\placeReferences%
}

\define[]\placeReferences%
{%
\section{List of Figures}%
\placelist[figure][criterium=all]%
%
\section{List of Tables}%
\placelist[table][criterium=all]%
%
\section{List of References}%
\showReferences%
%
\section{List of Media References}%
\showReferencesMedia%
%
\section{List of Source References}%
\showReferencesSource%
%
\section{List of General Links}%
\showLinks%
%
\section{List of Media Links}%
\showLinksMedias%
%
\section{List of Source Links}%
\showLinksSources%
%
\section{List of Location Links}%
\showLinksLocations%
}

\stopenvironment